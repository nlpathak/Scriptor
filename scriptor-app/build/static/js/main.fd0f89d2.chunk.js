(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,,,,,,,function(e,t,a){},,,,,,,,,,,,,function(e,t,a){},,,,,function(e,t,a){e.exports=a.p+"static/media/Sabeel.8bad89e5.png"},function(e,t,a){e.exports=a.p+"static/media/Raghavan.6309c087.png"},function(e,t,a){e.exports=a.p+"static/media/Kelvin.9cdaa2b9.png"},function(e,t,a){e.exports=a.p+"static/media/Subhash.31ee9661.png"},function(e,t,a){e.exports=a.p+"static/media/Amithab.d7836891.png"},function(e,t,a){e.exports=a.p+"static/media/Nikhil.9a9562ef.png"},function(e,t,a){e.exports=a.p+"static/media/Pranav.5310381d.png"},function(e,t,a){e.exports=a.p+"static/media/Ayush.86aa5df8.png"},function(e,t,a){e.exports=a.p+"static/media/David.b3506a21.png"},function(e,t,a){e.exports=a.p+"static/media/Shuu.8ed332db.png"},function(e,t,a){e.exports=a.p+"static/media/Som.25a042f5.png"},function(e,t,a){e.exports=a.p+"static/media/ScriptorLogo.0c85894f.jpg"},function(e,t,a){e.exports=a.p+"static/media/starOff.1668d9ae.png"},function(e,t,a){e.exports=a.p+"static/media/starOn.298685c0.png"},function(e,t,a){e.exports=a(87)},,,,,,function(e,t,a){},,,,,,,,,,,function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);a(49);var n=a(0),r=a.n(n),s=a(17),o=a.n(s),c=(a(54),a(3)),i=a(4),l=a(7),u=a(6),m=a(8),d=a(9),p=a(18),h=a(22),f=a(11);var g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.entries(e).filter(function(e){return void 0!==e[1]}).map(function(e){return e.filter(function(e){return null!==e}).map(encodeURIComponent).join("=")}).join("&");return t&&"?"+t},E=new(function(){function e(){Object(c.a)(this,e),this.state={authToken:localStorage.getItem("authToken")},this.callbacks=[]}return Object(i.a)(e,[{key:"addCallback",value:function(e){this.callbacks.push(e)}},{key:"notifyCallbacks",value:function(e){for(var t=0;t<this.callbacks.length;t++)this.callbacks[t](e)}},{key:"setAuthToken",value:function(e){localStorage.setItem("authToken",e),this.state.authToken=e}},{key:"clearAuthToken",value:function(){this.state.authToken=null,localStorage.removeItem("authToken")}},{key:"getAuthToken",value:function(){return this.state.authToken}},{key:"isCurrentUserLoggedIn",value:function(){return null!=this.getAuthToken()}},{key:"_getRequestHeaders",value:function(){return this.isCurrentUserLoggedIn()?{Authorization:"Bearer "+this.getAuthToken(),"Content-Type":"application/json"}:{"Content-Type":"application/json"}}},{key:"getCurrentUser",value:function(){var e=this;return this.isCurrentUserLoggedIn()?new Promise(function(t,a){fetch("/api/user/me/",{headers:e._getRequestHeaders()}).then(function(e){return e.json()}).then(function(e){e.success?t(e.current_user):a(e.error)})}):null}},{key:"login",value:function(e,t){var a=this;return new Promise(function(n,r){fetch("/api/user/login/",{method:"POST",headers:a._getRequestHeaders(),body:JSON.stringify({email:e,password:t})}).then(function(e){return e.json()}).then(function(e){e.success?(a.setAuthToken(e.auth_token),a.notifyCallbacks({type:"auth",action:"login"}),n(e.auth_token)):r(e.error)})})}},{key:"logout",value:function(){this.clearAuthToken(),this.notifyCallbacks({type:"auth",action:"logout"})}},{key:"register",value:function(e,t){var a=this;return new Promise(function(n,r){fetch("/api/user/register/",{method:"POST",headers:a._getRequestHeaders(),body:JSON.stringify({email:e,password:t})}).then(function(e){return e.json()}).then(function(e){e.success?(a.setAuthToken(e.auth_token),a.notifyCallbacks({type:"auth",action:"login"}),n(e.auth_token)):r(e.error)})})}},{key:"changePassword",value:function(e,t){var a=this;return new Promise(function(n,r){fetch("/api/user/change_password/",{method:"POST",headers:a._getRequestHeaders(),body:JSON.stringify({existing_password:e,new_password:t})}).then(function(e){return e.json()}).then(function(e){e.success?n(!0):r(e.error)})})}},{key:"sendPasswordTokenEmail",value:function(e){var t=this;return new Promise(function(a,n){fetch("/api/user/send_password_recovery_email/",{method:"POST",headers:t._getRequestHeaders(),body:JSON.stringify({email:e})}).then(function(e){return e.json()}).then(function(e){e.success?a(!0):n(e.error)})})}},{key:"setNewPassword",value:function(e,t,a){var n=this;return new Promise(function(r,s){fetch("/api/user/set_new_password/",{method:"POST",headers:n._getRequestHeaders(),body:JSON.stringify({email:e,password_token:a,new_password:t})}).then(function(e){return e.json()}).then(function(e){e.success?r(!0):s(e.error)})})}},{key:"addFavoritePodcastById",value:function(e,t){var a=this;return new Promise(function(n,r){fetch("/api/user/favorite_podcasts/"+e+"/"+t+"/add/",{method:"POST",headers:a._getRequestHeaders()}).then(function(e){return e.json()}).then(function(e){e.success?n(!0):r(e.error)})})}},{key:"checkFavoritePodcast",value:function(e,t){var a=this;return new Promise(function(n,r){fetch("/api/user/favorite_podcasts/"+e+"/"+t+"/check/",{headers:a._getRequestHeaders()}).then(function(e){return e.json()}).then(function(e){e.success?n(e.has_favorited_podcast):r(e.error)})})}},{key:"removeFavoritePodcastById",value:function(e,t){var a=this;return new Promise(function(n,r){fetch("/api/user/favorite_podcasts/"+e+"/"+t+"/remove/",{method:"DELETE",headers:a._getRequestHeaders()}).then(function(e){return e.json()}).then(function(e){e.success?n(!0):r(e.error)})})}},{key:"getFavoritePodcasts",value:function(){var e=this;return new Promise(function(t,a){fetch("/api/user/favorite_podcasts/",{headers:e._getRequestHeaders()}).then(function(e){return e.json()}).then(function(e){e.success?t(e.favorites):a(e.error)})})}},{key:"getHistory",value:function(){var e=this;return new Promise(function(t,a){fetch("/api/user/history/",{headers:e._getRequestHeaders()}).then(function(e){return e.json()}).then(function(e){e.success?t(e.history):a(e.error)})})}},{key:"clearHistory",value:function(){var e=this;return new Promise(function(t,a){fetch("/api/user/history/clear/",{method:"DELETE",headers:e._getRequestHeaders()}).then(function(e){return e.json()}).then(function(e){e.success?t(!0):a(e.error)})})}},{key:"searchPodcasts",value:function(e,t){var a=this,n=t;n.q=e;var r=g(n);return new Promise(function(e,t){fetch("/api/search/podcasts/"+r,{headers:a._getRequestHeaders()}).then(function(e){return e.json()}).then(function(a){a.success?e(a.results):t(a.error)})})}},{key:"searchDepartments",value:function(e){var t=this,a=g({q:e});return new Promise(function(e,n){fetch("/api/search/departments/"+a,{headers:t._getRequestHeaders()}).then(function(e){return e.json()}).then(function(t){t.success?e(t.results):n(t.error)})})}},{key:"getAllCourseCodes",value:function(){var e=this;return new Promise(function(t,a){fetch("/api/search/get_all_course_codes/",{headers:e._getRequestHeaders()}).then(function(e){return e.json()}).then(function(e){e.success?t(e.results):a(e.error)})})}},{key:"searchProfessors",value:function(e){var t=this,a=g({q:e});return new Promise(function(e,n){fetch("/api/search/professors/"+a,{headers:t._getRequestHeaders()}).then(function(e){return e.json()}).then(function(t){t.success?e(t.results):n(t.error)})})}},{key:"searchQuarters",value:function(e){var t=this,a=g({q:e});return new Promise(function(e,n){fetch("/api/search/quarters/"+a,{headers:t._getRequestHeaders()}).then(function(e){return e.json()}).then(function(t){t.success?e(t.results):n(t.error)})})}},{key:"getPodcastSnippet",value:function(e){var t=this;return new Promise(function(a,n){fetch("/api/podcasts/blobs/"+e+"/",{headers:t._getRequestHeaders()}).then(function(e){return e.json()}).then(function(e){e.success?a({podcast:e.podcast,podcast_blob:e.podcast_blob}):n(e.error)})})}},{key:"getPodcastMetadata",value:function(e){var t=this;return new Promise(function(a,n){fetch("/api/podcasts/"+e+"/",{headers:t._getRequestHeaders()}).then(function(e){return e.json()}).then(function(e){e.success?a(e.podcast):n(e.error)})})}},{key:"getPodcastTranscript",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;return new Promise(function(n,r){fetch("/api/podcasts/"+e+"/transcript/?sentence_split="+a,{headers:t._getRequestHeaders()}).then(function(e){return e.json()}).then(function(e){e.success?n(e):r(e.error)})})}}]),e}()),v=(a(16),function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",pass:"",verify:""},a.change=function(e){a.setState(Object(f.a)({},e.target.name,e.target.value))},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"onSubmit",value:function(e){return e.preventDefault(),document.getElementById("emailInput").style.color="rgba(0,0,0,.65)",document.getElementById("emailError").style.color="rgba(0,0,0,.65)",document.getElementById("emailError").innerHTML="",document.getElementById("verifyInput").style.color="rgba(0,0,0,.65)",document.getElementById("passInput").style.color="rgba(0,0,0,.65)",document.getElementById("passNoMatch").style.color="rgba(0,0,0,.65)",document.getElementById("passNoMatch").innerHTML="",document.getElementById("passTitle").style.marginTop="75px",document.getElementById("confirmTitle").style.marginTop="75px",document.getElementById("signButton").style.marginTop="75px",this.validateEmail(this.state.email)?this.state.pass!==this.state.verify?(document.getElementById("verifyInput").style.color="rgba(207, 70, 70, 0.93)",document.getElementById("passInput").style.color="rgba(207, 70, 70, 0.93)",document.getElementById("passNoMatch").style.color="rgba(207, 70, 70, 0.93)",document.getElementById("passNoMatch").innerHTML="Passwords do not match.",void(document.getElementById("signButton").style.marginTop="35px")):this.state.pass.length<4?(document.getElementById("verifyInput").style.color="rgba(207, 70, 70, 0.93)",document.getElementById("passInput").style.color="rgba(207, 70, 70, 0.93)",document.getElementById("passNoMatch").style.color="rgba(207, 70, 70, 0.93)",document.getElementById("passNoMatch").innerHTML="Password must be at least 4 characters.",void(document.getElementById("signButton").style.marginTop="35px")):void E.register(this.state.email,this.state.pass).then(function(e){window.location.reload()}).catch(function(e){document.getElementById("emailInput").style.color="rgba(207, 70, 70, 0.93)",document.getElementById("emailError").style.color="rgba(207, 70, 70, 0.93)",document.getElementById("emailError").innerHTML="Account already exists.",document.getElementById("passTitle").style.marginTop="35px"}):(document.getElementById("emailInput").style.color="rgba(207, 70, 70, 0.93)",document.getElementById("emailError").style.color="rgba(207, 70, 70, 0.93)",document.getElementById("emailError").innerHTML="Please enter a valid email.",void(document.getElementById("passTitle").style.marginTop="35px"))}},{key:"validateEmail",value:function(e){return/\S+@\S+\.\S+/.test(e)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"navpop"},r.a.createElement("div",{className:"header"},r.a.createElement("h1",null,"SIGN UP"),r.a.createElement("br",null),r.a.createElement("h2",null,"Create an account below")),r.a.createElement("form",{className:"col-xs-1 text-center navform"},r.a.createElement("div",{className:"field",id:"emailInput"},r.a.createElement("p",null,"Email"),r.a.createElement("br",null),r.a.createElement("input",{type:"text",className:"searchbar",name:"email",value:this.state.email,onChange:function(t){return e.change(t)}}),r.a.createElement("p",{id:"emailError"})),r.a.createElement("div",{className:"field",id:"passInput"},r.a.createElement("p",{id:"passTitle",style:{marginTop:"75px"}},"Password"),r.a.createElement("br",null),r.a.createElement("input",{type:"password",className:"searchbar",name:"pass",value:this.state.pass,onChange:function(t){return e.change(t)}})),r.a.createElement("div",{className:"field",id:"verifyInput"},r.a.createElement("p",{id:"confirmTitle",style:{marginTop:"75px"}},"Password Confirmation"),r.a.createElement("br",null),r.a.createElement("input",{type:"password",className:"searchbar",name:"verify",value:this.state.verify,onChange:function(t){return e.change(t)}}),r.a.createElement("p",{id:"passNoMatch"})),r.a.createElement("button",{id:"signButton",className:"center",onClick:function(t){return e.onSubmit(t)}},"SIGN UP")))}}]),t}(n.Component)),y=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",pass:""},a.change=function(e){a.setState(Object(f.a)({},e.target.name,e.target.value))},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"onSubmit",value:function(e){if(e.preventDefault(),document.getElementById("emailLogin").style.color="rgba(0,0,0,.65)",document.getElementById("emailLoginError").style.color="rgba(0,0,0,.65)",document.getElementById("emailLoginError").innerHTML="",document.getElementById("invalidLogin").style.color="rgba(0,0,0,.65)",document.getElementById("invalidLoginError").style.color="rgba(0,0,0,.65)",document.getElementById("invalidLoginError").innerHTML="",document.getElementById("titulo").style.marginTop="75px",document.getElementById("loginConfirm").style.marginTop="75px",!this.validateEmail(this.state.email))return document.getElementById("emailLogin").style.color="rgba(207, 70, 70, 0.93)",document.getElementById("emailLoginError").style.color="rgba(207, 70, 70, 0.93)",document.getElementById("emailLoginError").innerHTML="Please enter a valid email.",void(document.getElementById("titulo").style.marginTop="35px");E.login(this.state.email,this.state.pass).then(function(e){window.location.reload()}).catch(function(e){document.getElementById("invalidLogin").style.color="rgba(207, 70, 70, 0.93)",document.getElementById("invalidLoginError").style.color="rgba(207, 70, 70, 0.93)",document.getElementById("invalidLoginError").innerHTML="Invalid username or password.",document.getElementById("loginConfirm").style.marginTop="35px"})}},{key:"validateEmail",value:function(e){return/\S+@\S+\.\S+/.test(e)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"navpop"},r.a.createElement("div",{className:"header"},r.a.createElement("h1",null,"LOG IN"),r.a.createElement("br",null),r.a.createElement("h2",null,"Enter your details below")),r.a.createElement("form",{className:"col-xs-1 text-center navform"},r.a.createElement("div",{className:"field",id:"emailLogin"},r.a.createElement("p",null,"Email"),r.a.createElement("br",null),r.a.createElement("input",{type:"text",className:"searchbar",name:"email",value:this.state.email,onChange:function(t){return e.change(t)}}),r.a.createElement("p",{id:"emailLoginError"})),r.a.createElement("div",{className:"field",id:"invalidLogin"},r.a.createElement("p",{style:{marginTop:"75px"},id:"titulo"},"Password"),r.a.createElement("br",null),r.a.createElement("input",{type:"password",className:"searchbar",name:"pass",value:this.state.pass,onChange:function(t){return e.change(t)}}),r.a.createElement("p",{id:"invalidLoginError"})),r.a.createElement("button",{id:"loginConfirm",className:"center",onClick:function(t){return e.onSubmit(t)}},"LOG IN")),r.a.createElement("a",{href:"/forgot_password"},"Forgot your password?"))}}]),t}(n.Component),b=a(5),N=function(e){function t(){var e;return Object(c.a)(this,t),e=Object(l.a)(this,Object(u.a)(t).call(this)),E.addCallback(function(t){"auth"===t.type&&e.setState({authAction:t.action})}),e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"redirect",value:function(e,t){e.preventDefault(),window.location.assign(t)}},{key:"logout",value:function(e){e.preventDefault(),E.logout(),Object(b.a)("Logged Out",{className:"popup"}),window.location.reload()}},{key:"render",value:function(){var e=this,t=E.isCurrentUserLoggedIn(),a=r.a.createElement("div",null,r.a.createElement(h.a,{trigger:r.a.createElement("li",null,r.a.createElement("button",null,"LOG IN")),modal:!0,contentStyle:{height:"700px",width:"500px"},closeOnDocumentClick:!0},function(e){return r.a.createElement("div",null,r.a.createElement(y,null),r.a.createElement("button",{className:"close close1",onClick:e},"\xd7"))}),r.a.createElement(h.a,{trigger:r.a.createElement("li",null,r.a.createElement("button",null,"SIGN UP")),modal:!0,contentStyle:{height:"700px",width:"500px"},closeOnDocumentClick:!0},function(e){return r.a.createElement("div",null,r.a.createElement(v,null),r.a.createElement("button",{className:"close close2",onClick:e},"\xd7"))}),r.a.createElement("li",null,r.a.createElement("button",{onClick:function(t){return e.redirect(t,"/about")}},"ABOUT"))),n=r.a.createElement("div",null,r.a.createElement(h.a,{trigger:r.a.createElement("li",null,r.a.createElement("button",{className:"dropper"},"MY ACCOUNT")),position:"bottom center",on:"hover",closeOnDocumentClick:!0,mouseLeaveDelay:0,mouseEnterDelay:0,contentStyle:{padding:"0px",border:"none"},arrow:!1},r.a.createElement("div",{className:"dropdown"},r.a.createElement("button",{onClick:function(t){return e.redirect(t,"/history")}},"HISTORY"),r.a.createElement("button",{onClick:function(t){return e.redirect(t,"/favorites")}},"FAVORITES"),r.a.createElement("button",{onClick:function(t){return e.redirect(t,"/user")}},"SETTINGS"),r.a.createElement("button",{onClick:function(t){return e.logout(t)}},"LOG OUT"))),r.a.createElement("li",null,r.a.createElement("button",{onClick:function(t){return e.redirect(t,"/about")}},"ABOUT")));return r.a.createElement("div",{className:"navbar"},r.a.createElement("button",{className:"logo",onClick:function(t){return e.redirect(t,"/")}},"SCRIPTOR"),r.a.createElement("ul",{className:"outer"},t?n:a))}}]),t}(n.Component),w=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={query:"",department:"",course:"",professor:"",quarter:"",showFilters:!1,results:[],departments:[],courses:[],quarters:[],professors:[],course_codes:{},depExists:!1,course_numbers:[]},a.change=function(e){a.setState(Object(f.a)({},e.target.name,e.target.value),a.updateFilters)},a.handleEnter=function(e){"Enter"===e.key&&(e.preventDefault(),Object(b.a)("Press the Search Button",{className:"popup"}))},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"updateFilters",value:function(){this.state.query.length>0||this.state.department.length>0||this.state.course.length>0||this.state.professor.length>0||this.state.quarter.length>0?this.setState({showFilters:!0}):this.setState({showFilters:!1})}},{key:"onSubmit",value:function(e){if(e.preventDefault(),console.log(this.state.query.length),0===this.state.query.length)return document.getElementById("noResults").style.color="rgba(207, 70, 70, 0.93)",void(document.getElementById("noResults").innerHTML="Please enter a query.");this.props.history.push({pathname:"/results",search:"?query="+this.state.query+"&department="+this.state.department+"&course="+this.state.course+"&professor="+this.state.professor+"&quarter="+this.state.quarter,state:{query:this.state.query,department:this.state.department,course:this.state.course,professor:this.state.professor,quarter:this.state.quarter}})}},{key:"checkDepExists",value:function(e){return!!this.state.course_codes.hasOwnProperty(e.toUpperCase())}},{key:"componentDidMount",value:function(){var e=this;E.searchProfessors("").then(function(t){e.setState({professors:t})}),E.searchQuarters("").then(function(t){e.setState({quarters:t})}),E.searchDepartments("").then(function(t){e.setState({departments:t})}),E.getAllCourseCodes().then(function(t){for(var a={},n=0;n<t.length;n++){var r=t[n].split(" ");a.hasOwnProperty(r[0])?(a[r[0].trim()].push(r[1].trim()),a[r[0].trim()].sort(function(e,t){return e-t})):a[r[0].trim()]=[r[1].trim()]}e.setState({course_codes:a})})}},{key:"render",value:function(){var e,t=this,a=this.state.course,n=[];return e=this.state.showFilters?r.a.createElement("div",{className:"filters"},r.a.createElement("div",{className:"filterinputs"},r.a.createElement("input",{autoComplete:"off",type:"text",className:"filterbar",name:"department",list:"department",value:this.state.department,onChange:function(e){return t.change(e)},onKeyDown:function(e){return t.handleEnter(e)}}),r.a.createElement("datalist",{id:"department"},this.state.departments.map(function(e,t){return r.a.createElement("option",{key:t,value:e})})),r.a.createElement("input",{autoComplete:"off",type:"text",className:this.checkDepExists(this.state.department)?"course_number_active":"course_number",name:"course",list:"course_number",value:""===this.state.department?a="":a,disabled:!this.checkDepExists(this.state.department),onChange:function(e){return t.change(e)},onKeyDown:function(e){return t.handleEnter(e)}}),r.a.createElement("datalist",{id:"course_number"},n=this.checkDepExists(this.state.department)?this.state.course_codes[this.state.department.toUpperCase()]:[],n.map(function(e,t){return r.a.createElement("option",{key:t,value:e})})),r.a.createElement("input",{autoComplete:"off",type:"text",className:"filterbar",name:"professor",value:this.state.professor,list:"professor",onChange:function(e){return t.change(e)},onKeyDown:function(e){return t.handleEnter(e)}}),r.a.createElement("datalist",{id:"professor"},this.state.professors.map(function(e,t){return r.a.createElement("option",{key:t,value:e})})),r.a.createElement("input",{autoComplete:"off",type:"text",className:"filterbar",name:"quarter",list:"quarter",value:this.state.quarter,onChange:function(e){return t.change(e)},onKeyDown:function(e){return t.handleEnter(e)}}),r.a.createElement("datalist",{id:"quarter"},this.state.quarters.map(function(e,t){return r.a.createElement("option",{key:t,value:e})}))),r.a.createElement("p",{style:{marginTop:"5px"}},"Department"),r.a.createElement("p",null,"Course Number"),r.a.createElement("p",null,"Professor"),r.a.createElement("p",null,"Quarter")):null,r.a.createElement("div",{className:this.state.showFilters?"searchform active":"searchform"},r.a.createElement("form",{className:"col-xs-1 text-center"},r.a.createElement("h1",{className:"title"},"SCRIPTOR"),r.a.createElement("input",{type:"text",className:"searchbar",name:"query",placeholder:"What do you want to learn?",value:this.state.query,onChange:function(e){return t.change(e)}}),r.a.createElement("p",{id:"noResults"}),e,r.a.createElement("button",{className:"center",onClick:function(e){return t.onSubmit(e)}},"Search")))}}]),t}(n.Component),k=Object(p.e)(w);a(65);var _=function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"parent"},r.a.createElement(k,null)))},O=(a(29),a(34)),S=a.n(O),j=a(35),C=a.n(j),I=a(36),P=a.n(I),T=a(37),q=a.n(T),x=a(38),B=a.n(x),R=a(39),L=a.n(R),D=a(40),F=a.n(D),A=a(41),H=a.n(A),M=a(42),U=a.n(M),V=a(43),Q=a.n(V),G=a(44),K=a.n(G),W=a(45),Y=a.n(W);var J=function(){return r.a.createElement("div",{className:"about"},r.a.createElement("h1",null,"ABOUT US"),r.a.createElement("div",{className:"statement"},r.a.createElement("h3",null,r.a.createElement("u",null,"Who are we?")),r.a.createElement("p",{style:{color:"rgba(72,136,163,.93)"}},"Scriptor is developed and maintained by eleven undergraduates at the University of California, San Diego. Each of us is on a pursuit of revolution - revolution against all that is improper, all that is impractical, and all that is impossible. Our collective goals are simple: to better our world, to provide for our community, and to strive to be the best individuals we can be. And so, with this pursuit in our hearts and with these goals in our minds, we bring forth Scriptor."),r.a.createElement("h3",null,r.a.createElement("u",null,"About Scriptor")),r.a.createElement("p",{style:{color:"rgba(72,136,163,.93)"}},"Scriptor is our solution for streamlining studying and reviewing at the University of California, San Diego. No longer do students have to manually search for specific information in the vast collection of knowledge that is the UC San Diego Podcast System; rather, with Scriptor, they can simply search for the information they desire and be presented with the exact material they want. Scriptor connects users with precise timestamps in podcasts that match the information they seek, efficiently parsing through the vast database of podcasts so students don't have to. So, leave the searching to us and focus on learning. Happy podcasting!")),r.a.createElement("div",{className:"groupPhoto"},r.a.createElement("img",{src:Y.a,alt:"Error",style:{width:"100%"}})),r.a.createElement("div",{className:"team"},r.a.createElement("h1",null,"MEET THE TEAM")),r.a.createElement("div",{className:"teamList"},r.a.createElement("div",{className:"teamRow1"},r.a.createElement("img",{className:"profile",src:q.a,alt:"Error",style:{width:"100%"}}),r.a.createElement("p",{className:"name"},"Subhash Ramesh"),r.a.createElement("p",{className:"description"},"Software Architect")),r.a.createElement("div",{className:"teamRow1"},r.a.createElement("img",{className:"profile",src:S.a,alt:"Error",style:{width:"100%"}}),r.a.createElement("p",{className:"name"},"Sabeel Mansuri"),r.a.createElement("p",{className:"description"},"User Interface Specialist")),r.a.createElement("div",{className:"teamRow1"},r.a.createElement("img",{className:"profile",src:L.a,alt:"Error",style:{width:"100%"}}),r.a.createElement("p",{className:"name"},"Nikhil Pathak"),r.a.createElement("p",{className:"description"},"Software Development Lead")),r.a.createElement("div",{className:"teamRow2"},r.a.createElement("img",{className:"profile",src:H.a,alt:"Error",style:{width:"100%"}}),r.a.createElement("p",{className:"name"},"Ayush Shukla"),r.a.createElement("p",{className:"description"},"Quality Assurance Lead")),r.a.createElement("div",{className:"teamRow2"},r.a.createElement("img",{className:"profile",src:P.a,alt:"Error",style:{width:"100%"}}),r.a.createElement("p",{className:"name"},"Kelvin Chan"),r.a.createElement("p",{className:"description"},"Senior System Analyst")),r.a.createElement("div",{className:"teamRow2"},r.a.createElement("img",{className:"profile",src:F.a,alt:"Error",style:{width:"100%"}}),r.a.createElement("p",{className:"name"},"Pranav Narasimmaraj"),r.a.createElement("p",{className:"description"},"Algorithm Specialist")),r.a.createElement("div",{className:"teamRow2"},r.a.createElement("img",{className:"profile",src:B.a,alt:"Error",style:{width:"100%"}}),r.a.createElement("p",{className:"name"},"Amithab Arumugam"),r.a.createElement("p",{className:"description"},"Software Development Lead")),r.a.createElement("div",{className:"teamRow3"},r.a.createElement("img",{className:"profile",src:C.a,alt:"Error",style:{width:"100%"}}),r.a.createElement("p",{className:"name"},"Raghavan Kope"),r.a.createElement("p",{className:"description"},"Database Specialist")),r.a.createElement("div",{className:"teamRow3"},r.a.createElement("img",{className:"profile",src:K.a,alt:"Error",style:{width:"100%"}}),r.a.createElement("p",{className:"name"},"Som Dhar"),r.a.createElement("p",{className:"description"},"Business Analyst")),r.a.createElement("div",{className:"teamRow3"},r.a.createElement("img",{className:"profile",src:Q.a,alt:"Error",style:{width:"100%"}}),r.a.createElement("p",{className:"name"},"Shuu Yoshida"),r.a.createElement("p",{className:"description"},"User Interface Specialist")),r.a.createElement("div",{className:"teamRow3"},r.a.createElement("img",{className:"profile",src:U.a,alt:"Error",style:{width:"100%"}}),r.a.createElement("p",{className:"name"},"David Febles"),r.a.createElement("p",{className:"description"},"Project Manager"))))},z=(a(66),function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={oldpass:"",newpass:"",verify:""},a.change=function(e){a.setState(Object(f.a)({},e.target.name,e.target.value))},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"onSubmit",value:function(e){var t=this;e.preventDefault(),this.state.newpass.length<4?Object(b.a)("Password must be at least 4 characters.",{className:"popup error"}):this.state.newpass===this.state.verify?E.changePassword(this.state.oldpass,this.state.newpass).then(function(e){Object(b.a)("Password Updated",{className:"popup"}),t.setState({oldpass:""}),t.setState({newpass:""}),t.setState({verify:""})}).catch(function(e){Object(b.a)("Invalid Old Password",{className:"popup error"})}):Object(b.a)("New Passwords Don't Match",{className:"popup error"})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"settings"},r.a.createElement("div",{className:"header"},r.a.createElement("h1",null,"CHANGE PASSWORD"),r.a.createElement("br",null)),r.a.createElement("form",{className:"col-xs-1 text-center navform"},r.a.createElement("div",{className:"field"},r.a.createElement("p",null,"Old Password"),r.a.createElement("br",null),r.a.createElement("input",{type:"password",className:"searchbar",name:"oldpass",value:this.state.oldpass,onChange:function(t){return e.change(t)}})),r.a.createElement("div",{className:"field"},r.a.createElement("p",null,"New Password"),r.a.createElement("br",null),r.a.createElement("input",{type:"password",className:"searchbar",name:"newpass",value:this.state.newpass,onChange:function(t){return e.change(t)}})),r.a.createElement("div",{className:"field"},r.a.createElement("p",null,"Verify New Password"),r.a.createElement("br",null),r.a.createElement("input",{type:"password",className:"searchbar",name:"verify",value:this.state.verify,onChange:function(t){return e.change(t)}})),r.a.createElement("button",{className:"center",onClick:function(t){return e.onSubmit(t)}},"RESET PASSWORD")))}}]),t}(n.Component));a(67);var $=function(){if(E.isCurrentUserLoggedIn())return r.a.createElement("div",null,r.a.createElement(z,null));window.location.assign("/")},X=a(14),Z=(a(68),function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={queries:[],podcasts:[]},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"doesSearchQueryExistInHistory",value:function(e){for(var a=0;a<this.state.queries.length;a++){var n=this.state.queries[a];if(n.search_query===e.search_query&&n.type===e.type&&t.areObjectsEqual(e.search_filters,n.search_filters))return!0}return!1}},{key:"doesPodcastExistInHistory",value:function(e){for(var t=0;t<this.state.podcasts.length;t++)if(this.state.podcasts[t].podcast.id===e.podcast.id)return!0;return!1}},{key:"componentDidMount",value:function(){var e=this;E.getHistory().then(function(t){console.log(t),t.forEach(function(t){"SEARCH_QUERY"===t.type?e.doesSearchQueryExistInHistory(t)||e.setState(function(e){return{queries:[].concat(Object(X.a)(e.queries),[t])}}):e.doesPodcastExistInHistory(t)||e.setState(function(e){return{podcasts:[].concat(Object(X.a)(e.podcasts),[t])}})})})}},{key:"onClear",value:function(e){var t=this;E.clearHistory().then(function(){t.setState({queries:[]}),t.setState({podcasts:[]}),Object(b.a)("History Cleared",{className:"popup"})})}},{key:"renderSearchHistory",value:function(){return this.state.queries.length<=0?r.a.createElement("div",{className:"row justify-content-center",style:{marginTop:"100px"}},r.a.createElement("div",{className:"col text-center"},r.a.createElement("h4",null,"It's empty here.",r.a.createElement("br",null),r.a.createElement("small",{className:"text-muted",style:{fontSize:"65%"}},"This is where you'll see your most recent searches.")))):r.a.createElement("div",{className:"mt-4"},r.a.createElement("ul",{style:{"list-style":"none"}},this.state.queries.map(function(e,a){return r.a.createElement(d.b,{to:{pathname:"/results",search:t.getSearchQueryURL(e)},style:{color:"rgba(72,136,163,.93)"}},r.a.createElement("li",{className:"mt-4 mb-4",key:a},t.getSearchTitle(e)))})))}},{key:"renderPodcastHistory",value:function(){return this.state.podcasts.length<=0?r.a.createElement("div",{className:"row justify-content-center",style:{marginTop:"100px"}},r.a.createElement("div",{className:"col text-center"},r.a.createElement("h4",null,"It's empty here.",r.a.createElement("br",null),r.a.createElement("small",{className:"text-muted",style:{fontSize:"65%"}},"This is where you'll see your recently-viewed podcasts.")))):r.a.createElement("div",{className:"mt-4"},r.a.createElement("ul",{style:{"list-style":"none"}},this.state.podcasts.map(function(e,a){return r.a.createElement(d.b,{to:{pathname:"/podcast",search:t.getPodcastURL(e)},style:{color:"rgba(72,136,163,.93)"}},r.a.createElement("li",{className:"mt-4 mb-4",key:a},r.a.createElement("h3",null,t.formatName(e.podcast))))})))}},{key:"render",value:function(){var e=this;if(E.isCurrentUserLoggedIn())return r.a.createElement("div",{className:"history"},r.a.createElement("div",{className:"header"},r.a.createElement("h1",null,"HISTORY"),r.a.createElement("button",{className:"center",onClick:function(t){return e.onClear(t)}},"Clear")),r.a.createElement("div",{className:"row mt-3"},r.a.createElement("div",{className:"col-3"},r.a.createElement("h2",null,"You've Searched For..."),this.renderSearchHistory()),r.a.createElement("div",{className:"col"},r.a.createElement("h2",null,"You've Found..."),this.renderPodcastHistory())));window.location.assign("/")}}],[{key:"returnURL",value:function(e){return e.video_url.length<1&&(e.video_url=e.audio_url),e.video_url}},{key:"formatName",value:function(e){var t=e.quarter.split(" "),a=t[0].substr(0,1)+t[1].substr(2,3),n=e.professor;return n=n.substring(n.indexOf(",")+1,n.length)+" "+n.substring(0,n.indexOf(",")),e.department+" "+e.course_num+" - "+e.title+" ["+e.section_id+" - "+a+"] | "+n+" | Lecture "+e.lecture_num}},{key:"areObjectsEqual",value:function(e,t){for(var a in e)if(t[a]!==e[a])return!1;return!0}},{key:"getSearchQueryURL",value:function(e){var t="?query="+e.search_query;if(e.search_filters){var a=e.search_filters;a.dept&&(t+="&department="+a.dept),a.course_num&&(t+="&course="+a.course_num),a.professor&&(t+="&professor="+a.professor),a.quarter&&(t+="&quarter="+a.quarter)}return t}},{key:"getSearchTitle",value:function(e){var t=e.search_filters,a=Object.keys(t);if(0===a.length)return r.a.createElement("div",null,r.a.createElement("h3",null,e.search_query));for(var n="",s=a.length,o=0,c=0;c<a.length;c++){var i=a[c],l=t[i];"dept"===i?n+="Department: "+l:"course_num"===i?n+="Course number: "+l:"professor"===i?n+="Professor: "+l:"quarter"===i&&(n+="Quarter: "+l),o!==s-1&&(n+=", "),o+=1}return r.a.createElement("div",null,r.a.createElement("h3",null,e.search_query,r.a.createElement("br",null),r.a.createElement("p",{className:"mt-2 text-muted",style:{fontSize:"50%"}},r.a.createElement("b",null,r.a.createElement("i",null,n)))))}},{key:"getPodcastURL",value:function(e){return"?blob_id="+e.blob_id}}]),t}(n.Component)),ee=a(21),te=a(46),ae=a.n(te),ne=a(47),re=a.n(ne),se=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={isFav:[],favorites:[]},a.handleClick=a.handleClick.bind(Object(ee.a)(a)),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"handleClick",value:function(e,t,a){e.preventDefault();var n=Object(X.a)(this.state.isFav);n[t]=!this.state.isFav[t],n[t]?E.addFavoritePodcastById(a.favorite_podcast.id,a.favorite_blob.id).then(function(e){Object(b.a)("Added to Favorites",{className:"popup"})}):E.removeFavoritePodcastById(a.favorite_podcast.id,a.favorite_blob.id).then(function(e){Object(b.a)("Removed from Favorites",{className:"popup"})}),this.setState(function(e){return{isFav:n}})}},{key:"componentDidMount",value:function(){var e=this;E.getFavoritePodcasts().then(function(a){console.log(a);for(var n=[],r=0;r<a.length;r++)t.isPodcastInList(n,a[r].favorite_podcast)||n.push(a[r]);e.setState({favorites:n}),e.setState({isFav:n.map(function(e){return!0})})})}},{key:"render",value:function(){var e=this;return this.state.favorites.length<=0?r.a.createElement("div",{className:"favorites"},r.a.createElement("div",{className:"header"},r.a.createElement("h1",null,"FAVORITES")),r.a.createElement("div",{className:"row mt-5 justify-content-center"},r.a.createElement("div",{className:"col text-center"},r.a.createElement("h3",null,"Got any favorites?",r.a.createElement("br",null),r.a.createElement("small",{className:"text-muted",style:{fontSize:"65%"}},"Once you favorite a podcast snippet, you'll see it here."))))):r.a.createElement("div",{className:"favorites"},r.a.createElement("div",{className:"header"},r.a.createElement("h1",null,"FAVORITES")),r.a.createElement("div",{className:"favList mt-4"},r.a.createElement("ul",null,this.state.favorites.map(function(a,n){return r.a.createElement("li",{className:"favResult",key:n},r.a.createElement("div",{className:"each"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-8"},r.a.createElement(d.b,{to:{pathname:"/podcast",search:"?blob_id="+a.favorite_blob.id},style:{color:"rgba(72,136,163,.93)"}},t.formatTitle(a.favorite_podcast))),r.a.createElement("div",{className:"col-4"},r.a.createElement("img",{onClick:function(t){e.handleClick(t,n,a)},src:e.state.isFav[n]?re.a:ae.a,alt:"",width:"58",height:"58"})))))}))))}}],[{key:"formatTitle",value:function(e){var t=e.department+" "+e.course_num,a=e.title;a.length>25&&(a=a.substring(0,25)+"..."),t+=" - "+a;var n=e.quarter;n=n.substring(0,2).toUpperCase()+n.substring(n.length-2,n.length),t+=" ["+e.section_id+"-"+n+"]";var r=e.professor;return r.length>25&&(r=r.substring(0,25)+"..."),t+=" | "+(r=r.substring(r.indexOf(",")+1,r.length)+" "+r.substring(0,r.indexOf(","))),t+=" | Lecture "+e.lecture_num}},{key:"isPodcastInList",value:function(e,t){for(var a=0;a<e.length;a++)if(t.id===e[a].id)return!0;return!1}}]),t}(n.Component);a(69);var oe=function(){if(E.isCurrentUserLoggedIn())return r.a.createElement("div",null,r.a.createElement(se,null));window.location.assign("/")},ce=(a(70),a(19)),ie=a.n(ce),le=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).values=ie.a.parse(a.props.location.search),a.state={isFavorited:!1,podcast:null,podcast_blob:null},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"formatTitle",value:function(){var e=this.state.podcast.department+" "+this.state.podcast.course_num,t=this.state.podcast.title;t.length>25&&(t=t.substring(0,25)+"..."),e+=" - "+t,e+=" ["+this.state.podcast.section_id+"]";var a=this.state.podcast.professor;return a.length>12&&(a=a.substring(0,12)+"..."),e+=" | "+a,e+=" | Lecture "+this.state.podcast.lecture_num}},{key:"formatVideoLink",value:function(e){return e+"#t="+this.state.podcast_blob.starting_timestamp_second}},{key:"formatRelevantText",value:function(){return this.state.podcast_blob.transcription_blob.length>950?this.state.podcast_blob.transcription_blob.substring(0,950)+"...":this.state.podcast_blob.transcription_blob}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault(),E.isCurrentUserLoggedIn()?E.checkFavoritePodcast(this.state.podcast.id,this.state.podcast_blob.id).then(function(e){e?(E.removeFavoritePodcastById(t.state.podcast.id,t.state.podcast_blob.id).then(function(e){Object(b.a)("Removed from Favorites",{className:"popup"})}),t.setState({isFavorited:!1}),document.getElementById("togglebutton").style.color="rgba(255,255,255,1)",document.getElementById("togglebutton").style.border="none",document.getElementById("togglebutton").style.backgroundColor="rgba(72,136,163,.93)",document.getElementById("togglebutton").innerHTML="FAVORITE"):(E.addFavoritePodcastById(t.state.podcast.id,t.state.podcast_blob.id).then(function(e){Object(b.a)("Added to Favorites",{className:"popup"})}),t.setState({isFavorited:!0}),document.getElementById("togglebutton").style.color="rgba(72,136,163,.93)",document.getElementById("togglebutton").style.border="1px solid rgba(72,136,163,.93)",document.getElementById("togglebutton").style.backgroundColor="rgba(255,255,255,1)",document.getElementById("togglebutton").innerHTML="UNFAVORITE")}):Object(b.a)("Log In to Favorite",{className:"popup error"})}},{key:"relocate",value:function(e,t){e.preventDefault(),window.location.assign(t+"#t="+this.state.podcast_blob.starting_timestamp_second)}},{key:"componentDidMount",value:function(){var e=this;2===performance.navigation.type&&window.location.reload(),E.getPodcastSnippet(this.values.blob_id).then(function(t){e.setState({podcast:t.podcast,podcast_blob:t.podcast_blob}),E.checkFavoritePodcast(t.podcast.id,t.podcast_blob.id).then(function(t){t?(e.setState({isFavorited:!0}),document.getElementById("togglebutton").style.color="rgba(72,136,163,.93)",document.getElementById("togglebutton").style.border="1px solid rgba(72,136,163,.93)",document.getElementById("togglebutton").style.backgroundColor="rgba(255,255,255,1)",document.getElementById("togglebutton").innerHTML="UNFAVORITE"):e.setState({isFavorited:!1})})})}},{key:"render",value:function(){var e=this;if(this.state.podcast&&this.state.podcast_blob){var t=""===this.values.ucsd_podcast_video_url?this.state.podcast.ucsd_podcast_audio_url:this.state.podcast.ucsd_podcast_video_url;return r.a.createElement("div",{className:"podpage"},r.a.createElement("h1",{className:"title"},r.a.createElement("a",{className:"link",href:t+"#t="+this.state.podcast_blob.starting_timestamp_second},this.formatTitle())),r.a.createElement("div",{className:"toplayer"},r.a.createElement("video",{className:"vid",controls:!0,autoPlay:!0},r.a.createElement("source",{src:this.formatVideoLink(t)})),r.a.createElement("div",{className:"text"},r.a.createElement("h3",null,"Speech-to-Text"),r.a.createElement("p",{style:{marginTop:"22px"}},this.formatRelevantText()),r.a.createElement(d.b,{className:"link",to:{pathname:"/transcript",search:"?podcast_id="+this.state.podcast.id}},r.a.createElement("u",null,"View Full Transcript")))),r.a.createElement("div",{className:"btn-group pagewide fullgroup"},r.a.createElement("div",{className:"btn-group pagewide"},r.a.createElement("button",{type:"button",className:"btn",id:"togglebutton",onClick:function(t){return e.onSubmit(t)}},"FAVORITE")),r.a.createElement("div",{className:"btn-group pagewide"},r.a.createElement("button",{type:"button",className:"btn",onClick:function(a){return e.relocate(a,t)}},"GO TO PODCAST"))))}return r.a.createElement("div",null)}}]),t}(n.Component),ue=(a(82),a(83),function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).query="",a.noResponse=!1,a.state={query:"",department:"",course:"",professor:"",quarter:"",showFilters:!1,results:[],departments:[],courses:[],quarters:[],professors:[],course_codes:{},depExists:!1,course_numbers:[]},a.change=function(e){a.setState(Object(f.a)({},e.target.name,e.target.value),a.updateFilters),a.state.department.length<=1&&a.setState({course:""})},a.handleEnter=function(e){"Enter"===e.key&&(e.preventDefault(),Object(b.a)("Press the Search Button",{className:"popup"}))},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"updateFilters",value:function(){this.state.query.length>0||this.state.department.length>0||this.state.course.length>0||this.state.professor.length>0||this.state.quarter.length>0?this.setState({showFilters:!0}):this.setState({showFilters:!1})}},{key:"onSubmit",value:function(e){this.props.history.push({search:"?query="+this.state.query+"&department="+this.state.department+"&course="+this.state.course+"&professor="+this.state.professor+"&quarter="+this.state.quarter,state:{query:this.state.query,department:this.state.department,course:this.state.course,professor:this.state.professor,quarter:this.state.quarter}})}},{key:"checkDepExists",value:function(e){return!!e&&!!this.state.course_codes.hasOwnProperty(e.toUpperCase())}},{key:"handleClick",value:function(e){e.preventDefault(),this.setState({showFilters:!0})}},{key:"componentDidMount",value:function(){var e=this;E.searchProfessors("").then(function(t){e.setState({professors:t})}),E.searchQuarters("").then(function(t){e.setState({quarters:t})}),E.searchDepartments("").then(function(t){e.setState({departments:t})}),E.getAllCourseCodes().then(function(t){for(var a={},n=0;n<t.length;n++){var r=t[n].split(" ");a.hasOwnProperty(r[0])?(a[r[0].trim()].push(r[1].trim()),a[r[0].trim()].sort(function(e,t){return e-t})):a[r[0].trim()]=[r[1].trim()]}e.setState({course_codes:a})}),this.setState({query:this.props.query||"",department:this.props.department||"",course:this.props.course||"",quarter:this.props.quarter||"",professor:this.props.professor||""})}},{key:"render",value:function(){var e,t=this,a=[];return e=this.state.showFilters?r.a.createElement("div",{className:"resfilters"},r.a.createElement("div",{className:"resfilterinputs"},r.a.createElement("input",{autoComplete:"off",type:"text",className:"resfilterbar",name:"department",list:"department",value:this.state.department,onChange:function(e){return t.change(e)},onKeyDown:function(e){return t.handleEnter(e)}}),r.a.createElement("datalist",{id:"department"},this.state.departments.map(function(e,t){return r.a.createElement("option",{key:t,value:e})})),r.a.createElement("input",{autoComplete:"off",type:"text",className:this.checkDepExists(this.state.department)?"course_number_active":"course_number",name:"course",list:"course_number",disabled:!this.checkDepExists(this.state.department),value:this.state.course,onChange:function(e){return t.change(e)},onKeyDown:function(e){return t.handleEnter(e)}}),r.a.createElement("datalist",{id:"course_number"},a=this.checkDepExists(this.state.department)?this.state.course_codes[this.state.department.toUpperCase()]:[],a.map(function(e,t){return r.a.createElement("option",{key:t,value:e})})),r.a.createElement("input",{autoComplete:"off",type:"text",className:"resfilterbar",name:"professor",list:"professor",value:this.state.professor,onChange:function(e){return t.change(e)},onKeyDown:function(e){return t.handleEnter(e)}}),r.a.createElement("datalist",{id:"professor"},this.state.professors.map(function(e,t){return r.a.createElement("option",{key:t,value:e})})),r.a.createElement("input",{autoComplete:"off",type:"text",className:"resfilterbar",name:"quarter",list:"quarter",value:this.state.quarter,onChange:function(e){return t.change(e)},onKeyDown:function(e){return t.handleEnter(e)}}),r.a.createElement("datalist",{id:"quarter"},this.state.quarters.map(function(e,t){return r.a.createElement("option",{key:t,value:e})}))),r.a.createElement("p",{style:{marginTop:"5px"}},"Department"),r.a.createElement("p",null,"Course Number"),r.a.createElement("p",null,"Professor"),r.a.createElement("p",null,"Quarter")):null,r.a.createElement("div",{className:"ressearchform"},r.a.createElement("form",{className:"col-xs-1 text-center"},r.a.createElement("input",{type:"text",className:"ressearchbar",name:"query",value:this.state.query,onChange:function(e){return t.change(e)},onClick:function(e){return t.handleClick(e)}}),r.a.createElement("p",{id:"noResults"}),e,r.a.createElement("button",{className:"rescenter",onClick:function(e){return t.onSubmit(e)}},"Search")))}}]),t}(n.Component)),me=Object(p.e)(ue),de=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={results:[]},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=ie.a.parse(this.props.location.search);if(0===t.query.length)return document.getElementById("noResults").style.color="rgba(207, 70, 70, 0.93)",void(document.getElementById("noResults").innerHTML="Please enter a query.");E.searchPodcasts(t.query,{dept:t.department,course_num:t.course,professor:t.professor,quarter:t.quarter}).then(function(t){if(0===t.length)return document.getElementById("noResults").style.color="rgba(207, 70, 70, 0.93)",void(document.getElementById("noResults").innerHTML="No results found.");t.forEach(function(t){E.getPodcastMetadata(t.podcast_id).then(function(a){var n=a.quarter.split(" "),r=n[0].substr(0,1)+n[1].substr(2,3),s=Math.floor(t.starting_timestamp_second/60)+":"+("0"+t.starting_timestamp_second%60).slice(-2),o=a.ucsd_podcast_video_url,c=a.professor;c=c.substring(c.indexOf(",")+1,c.length)+" "+c.substring(0,c.indexOf(","));var i={description:a.department+" "+a.course_num+" - "+a.title+" ["+a.section_id+" - "+r+"] | "+c+" | Lecture "+a.lecture_num,blurb:t.transcription_blob,timestamp:s,url:o,podcast_id:t.podcast_id,blob_id:t.id,podcastPage:{department:a.department,course_num:a.course_num,title:a.title,section_id:a.section_id,professor:c,lecture_num:a.lecture_num,ucsd_podcast_video_url:a.ucsd_podcast_video_url,starting_timestamp_second:t.starting_timestamp_second,transcription_blob:t.transcription_blob,ucsd_podcast_audio_url:a.ucsd_podcast_audio_url}};e.setState(function(e){return{results:[].concat(Object(X.a)(e.results),[i])}})})})})}},{key:"render",value:function(){var e=ie.a.parse(this.props.location.search);return r.a.createElement("div",{className:"results"},r.a.createElement(me,{query:e.query,department:e.department,course:e.course,quarter:e.quarter,professor:e.professor}),this.state.results.map(function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("li",{className:"description"},r.a.createElement(d.b,{to:{pathname:"/podcast",search:"?blob_id="+e.blob_id}},e.description)),r.a.createElement("div",{className:"times"},r.a.createElement("li",{className:"timeStamp"},r.a.createElement(d.b,{to:{pathname:"/podcast",search:"?blob_id="+e.blob_id}},e.timestamp))),r.a.createElement("li",{className:"blurb"}," ",e.blurb," "),r.a.createElement("div",{className:"spacer"}))}))}}]),t}(n.Component),pe=(a(84),function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",passwordToken:"",newPassword:"",sentVerificationEmail:!1},a.change=function(e){a.setState(Object(f.a)({},e.target.name,e.target.value))},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"onEmailFormSubmit",value:function(e){var t=this;e.preventDefault(),E.sendPasswordTokenEmail(this.state.email).then(function(e){t.setState({sentVerificationEmail:!0,email:t.state.email}),Object(b.a)("Check your email for a verification token.",{className:"popup"})}).catch(function(e){t.setState({sentVerificationEmail:!1,email:""}),Object(b.a)(e,{className:"popup error"})})}},{key:"onResetPasswordFormSubmit",value:function(e){var t=this;e.preventDefault(),this.state.newPassword.length<4?Object(b.a)("Password must be 4 or more characters.",{className:"popup error"}):E.setNewPassword(this.state.email,this.state.newPassword,this.state.passwordToken).then(function(e){Object(b.a)("Your password has been changed.",{className:"popup"}),E.login(t.state.email,t.state.newPassword).then(function(){t.props.history.push("/")}).then(function(){window.location.reload()})}).catch(function(e){Object(b.a)(e,{className:"popup error"})})}},{key:"getForm",value:function(){var e=this;return this.state.sentVerificationEmail?r.a.createElement("form",{className:"col-xs-1 text-center navform"},r.a.createElement("div",{className:"field"},r.a.createElement("p",null,"Email"),r.a.createElement("br",null),r.a.createElement("input",{type:"text",className:"searchbar",name:"email",value:this.state.email,onChange:function(t){return e.change(t)},required:!0})),r.a.createElement("div",{className:"field"},r.a.createElement("p",null,"Password token"),r.a.createElement("br",null),r.a.createElement("input",{type:"text",className:"searchbar",name:"passwordToken",value:this.state.passwordToken,onChange:function(t){return e.change(t)},required:!0})),r.a.createElement("div",{className:"field"},r.a.createElement("p",null,"New password"),r.a.createElement("br",null),r.a.createElement("input",{type:"password",className:"searchbar",name:"newPassword",value:this.state.newPassword,onChange:function(t){return e.change(t)},required:!0})),r.a.createElement("button",{className:"center",onClick:function(t){return e.onResetPasswordFormSubmit(t)}},"RESET PASSWORD")):r.a.createElement("form",{className:"col-xs-1 text-center navform"},r.a.createElement("div",{className:"field"},r.a.createElement("p",null,"Email"),r.a.createElement("br",null),r.a.createElement("input",{type:"text",className:"searchbar",name:"email",value:this.state.email,onChange:function(t){return e.change(t)},required:!0})),r.a.createElement("button",{className:"center",onClick:function(t){return e.onEmailFormSubmit(t)}},"RESET PASSWORD"))}},{key:"render",value:function(){return r.a.createElement("div",{className:"forgotpass"},r.a.createElement("div",{className:"header"},r.a.createElement("h1",null,"RESET PASSWORD")),this.getForm())}}]),t}(n.Component)),he=(a(85),function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).values=ie.a.parse(a.props.location.search),a.state={transcript:[]},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;E.getPodcastTranscript(this.values.podcast_id).then(function(t){t.transcript_sections.forEach(function(t){e.setState(function(e){return{transcript:[].concat(Object(X.a)(e.transcript),[t])}})})})}},{key:"render",value:function(){return r.a.createElement("div",{className:"transcript"},this.state.transcript.map(function(e,t){return r.a.createElement("div",{key:t},e,r.a.createElement("br",null),r.a.createElement("br",null))}))}}]),t}(n.Component));a(86);var fe=function(){return r.a.createElement("div",{className:"notfound"},r.a.createElement("h1",null,"Uh oh! Something went wrong."),r.a.createElement("h5",null,"Let's get you home:"),r.a.createElement("button",{onClick:function(e){return function(e){e.preventDefault(),window.location.assign("/")}(e)}},"Home"))},ge=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement(N,null),r.a.createElement("div",null,r.a.createElement(p.c,null,r.a.createElement(p.a,{exact:!0,path:"/",component:_}),r.a.createElement(p.a,{path:"/about",component:J}),r.a.createElement(p.a,{path:"/user",component:$}),r.a.createElement(p.a,{path:"/forgot_password",component:pe}),r.a.createElement(p.a,{path:"/results",component:de}),r.a.createElement(p.a,{path:"/history",component:Z}),r.a.createElement(p.a,{path:"/favorites",component:oe}),r.a.createElement(p.a,{path:"/podcast",component:le}),r.a.createElement(p.a,{path:"/transcript",component:he}),r.a.createElement(p.a,{path:"*",component:fe}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));b.a.configure({autoClose:4e3,draggable:!1,closeButton:!1,draggablePercent:100,progressClassName:"ourbar",position:"top-left",style:{top:"90px"}}),o.a.render(r.a.createElement(ge,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[48,1,2]]]);
//# sourceMappingURL=main.fd0f89d2.chunk.js.map